2026-01-01 12:44:04,811 - INFO - Starting TradingView industry data extraction...
2026-01-01 12:44:04,811 - ERROR - Failed to initialize WebDriver: Message: Unable to obtain driver for chrome; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors/driver_location

2026-01-01 12:44:04,811 - ERROR - Failed to initialize WebDriver. Exiting.
2026-01-01 12:44:04,811 - ERROR - Failed to extract any data
2026-01-01 12:47:47,787 - INFO - Starting TradingView industry data extraction...
2026-01-01 12:47:47,802 - INFO - ====== WebDriver manager ======
2026-01-01 12:47:47,904 - INFO - Get LATEST chromedriver version for google-chrome
2026-01-01 12:47:51,235 - INFO - Get LATEST chromedriver version for google-chrome
2026-01-01 12:47:51,471 - INFO - Driver [/Users/jaykrish/.wdm/drivers/chromedriver/mac64/143.0.7499.169/chromedriver-mac-arm64/chromedriver] found in cache
2026-01-01 12:47:51,694 - ERROR - Failed to initialize WebDriver: Message: session not created
from unknown error: no chrome binary at /usr/bin/chromium-browser; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#sessionnotcreatedexception
Stacktrace:
0   chromedriver                        0x00000001046d8b2c cxxbridge1$str$ptr + 3033596
1   chromedriver                        0x00000001046d0b30 cxxbridge1$str$ptr + 3000832
2   chromedriver                        0x00000001041cab0c _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 74196
3   chromedriver                        0x00000001041fbf1c _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 275940
4   chromedriver                        0x00000001041fb05c _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 272164
5   chromedriver                        0x000000010423ee8c _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 550228
6   chromedriver                        0x000000010423e8cc _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 548756
7   chromedriver                        0x000000010420616c _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 317492
8   chromedriver                        0x000000010469c098 cxxbridge1$str$ptr + 2785128
9   chromedriver                        0x000000010469f804 cxxbridge1$str$ptr + 2799316
10  chromedriver                        0x000000010467c850 cxxbridge1$str$ptr + 2656032
11  chromedriver                        0x00000001046a0074 cxxbridge1$str$ptr + 2801476
12  chromedriver                        0x000000010466d1cc cxxbridge1$str$ptr + 2592924
13  chromedriver                        0x00000001046bfcb4 cxxbridge1$str$ptr + 2931588
14  chromedriver                        0x00000001046bfe34 cxxbridge1$str$ptr + 2931972
15  chromedriver                        0x00000001046d0788 cxxbridge1$str$ptr + 2999896
16  libsystem_pthread.dylib             0x000000018706fc0c _pthread_start + 136
17  libsystem_pthread.dylib             0x000000018706ab80 thread_start + 8

2026-01-01 12:47:51,694 - ERROR - Failed to initialize WebDriver. Exiting.
2026-01-01 12:47:51,694 - ERROR - Failed to extract any data
2026-01-01 12:49:25,847 - INFO - Starting TradingView industry data extraction...
2026-01-01 12:49:25,865 - INFO - ====== WebDriver manager ======
2026-01-01 12:49:25,990 - INFO - Get LATEST chromedriver version for google-chrome
2026-01-01 12:49:26,780 - INFO - Get LATEST chromedriver version for google-chrome
2026-01-01 12:49:27,282 - INFO - Driver [/Users/jaykrish/.wdm/drivers/chromedriver/mac64/143.0.7499.169/chromedriver-mac-arm64/chromedriver] found in cache
2026-01-01 12:50:27,665 - ERROR - Failed to initialize WebDriver: Message: session not created
from chrome not reachable; For documentation on this error, please visit: https://www.selenium.dev/documentation/webdriver/troubleshooting/errors#sessionnotcreatedexception
Stacktrace:
0   chromedriver                        0x0000000103458b2c cxxbridge1$str$ptr + 3033596
1   chromedriver                        0x0000000103450b30 cxxbridge1$str$ptr + 3000832
2   chromedriver                        0x0000000102f4a970 _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 73784
3   chromedriver                        0x0000000102f38be0 _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 680
4   chromedriver                        0x0000000102f823c4 _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 301708
5   chromedriver                        0x0000000102f7e898 _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 286560
6   chromedriver                        0x0000000102f7b05c _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 272164
7   chromedriver                        0x0000000102fbee8c _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 550228
8   chromedriver                        0x0000000102fbe8cc _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 548756
9   chromedriver                        0x0000000102f8616c _RNvCsgXDX2mvAJAg_7___rustc35___rust_no_alloc_shim_is_unstable_v2 + 317492
10  chromedriver                        0x000000010341c098 cxxbridge1$str$ptr + 2785128
11  chromedriver                        0x000000010341f804 cxxbridge1$str$ptr + 2799316
12  chromedriver                        0x00000001033fc850 cxxbridge1$str$ptr + 2656032
13  chromedriver                        0x0000000103420074 cxxbridge1$str$ptr + 2801476
14  chromedriver                        0x00000001033ed1cc cxxbridge1$str$ptr + 2592924
15  chromedriver                        0x000000010343fcb4 cxxbridge1$str$ptr + 2931588
16  chromedriver                        0x000000010343fe34 cxxbridge1$str$ptr + 2931972
17  chromedriver                        0x0000000103450788 cxxbridge1$str$ptr + 2999896
18  libsystem_pthread.dylib             0x000000018706fc0c _pthread_start + 136
19  libsystem_pthread.dylib             0x000000018706ab80 thread_start + 8

2026-01-01 12:50:27,665 - ERROR - Failed to initialize WebDriver. Exiting.
2026-01-01 12:50:27,665 - ERROR - Failed to extract any data
2026-01-01 13:11:14,611 - INFO - Starting TradingView industry data extraction...
2026-01-01 13:11:15,796 - INFO - WebDriver initialized successfully
2026-01-01 13:11:15,796 - INFO - Navigating to base domain https://www.tradingview.com to set cookies.
2026-01-01 13:11:29,274 - INFO - Extracted cookie list from 'cookies' key in cookies.json.
2026-01-01 13:11:29,295 - INFO - Added 11 cookies out of 11 total cookies
2026-01-01 13:11:29,295 - INFO - Navigating to target URL: https://in.tradingview.com/markets/stocks-india/sectorandindustry-industry/
2026-01-01 13:11:38,490 - INFO - Successfully navigated to the industry page
2026-01-01 13:11:38,553 - INFO - Initial screenshot saved to /Users/jaykrish/Documents/digitalocean/fixing/tradingview_pipeline/tradingview_industry_initial.png
2026-01-01 13:11:38,576 - INFO - Clicking Load More button to load all Overview records...
2026-01-01 13:11:40,616 - INFO - Found Load More button using selector: //span[contains(text(), "Load More")]
2026-01-01 13:11:41,677 - INFO - Clicked Load More button (click #1)
2026-01-01 13:11:45,694 - INFO - Added 19 new rows (total: 119)
2026-01-01 13:11:47,738 - INFO - Load More button not found with any selector, assuming all data is loaded
2026-01-01 13:11:47,743 - INFO - Finished clicking Load More button. Total clicks: 1, Final rows: 119
2026-01-01 13:11:47,743 - INFO - Extracting Overview data...
2026-01-01 13:11:47,748 - INFO - JavaScript extraction for overview: Found 119 rows
2026-01-01 13:11:47,750 - INFO - Overview columns: ['Change\xa0%', 'Div yield\xa0% (indicated)', 'Industry', 'Market cap', 'Sector', 'Stocks', 'Volume']
2026-01-01 13:11:47,754 - INFO - Clicking on Performance tab...
2026-01-01 13:11:52,799 - INFO - Clicking Load More button to load all Performance records...
2026-01-01 13:11:54,836 - INFO - Load More button not found with any selector, assuming all data is loaded
2026-01-01 13:11:54,841 - INFO - Finished clicking Load More button. Total clicks: 0, Final rows: 119
2026-01-01 13:11:54,895 - INFO - Performance tab screenshot saved to /Users/jaykrish/Documents/digitalocean/fixing/tradingview_pipeline/tradingview_industry_performance.png
2026-01-01 13:11:54,895 - INFO - Extracting Performance data...
2026-01-01 13:11:54,899 - INFO - JavaScript extraction for performance: Found 119 rows
2026-01-01 13:11:54,899 - INFO - Performance columns: ['Change\xa0%', 'Industry', 'Perf\xa0%10Y', 'Perf\xa0%1M', 'Perf\xa0%1W', 'Perf\xa0%1Y', 'Perf\xa0%3M', 'Perf\xa0%5Y', 'Perf\xa0%6M', 'Perf\xa0%All Time', 'Perf\xa0%YTD']
2026-01-01 13:11:55,017 - INFO - WebDriver closed
2026-01-01 13:11:55,023 - INFO - Merged dataframe has 119 rows and 17 columns
2026-01-01 13:11:55,027 - INFO - Cleaned column names: ['Change %_overview', 'Div yield % (indicated)', 'Market cap', 'Sector', 'Stocks', 'Volume', 'Change %_performance', 'Perf %10Y', 'Perf %1M', 'Perf %1W', 'Perf %1Y', 'Perf %3M', 'Perf %5Y', 'Perf %6M', 'Perf %All Time', 'Perf %YTD', 'Industry']
2026-01-01 13:11:55,027 - INFO - Columns before mapping: ['Change %_overview', 'Div yield % (indicated)', 'Market cap', 'Sector', 'Stocks', 'Volume', 'Change %_performance', 'Perf %10Y', 'Perf %1M', 'Perf %1W', 'Perf %1Y', 'Perf %3M', 'Perf %5Y', 'Perf %6M', 'Perf %All Time', 'Perf %YTD', 'Industry']
2026-01-01 13:11:55,027 - INFO - Columns after mapping: ['Change %_overview', 'div_yield_indicated', 'market_cap', 'Sector', 'stocks', 'volume', 'Change %_performance', 'perf_10y', 'perf_1m', 'perf_1w', 'perf_1y', 'perf_3m', 'perf_5y', 'perf_6m', 'perf_all_time', 'perf_ytd', 'Industry']
2026-01-01 13:11:55,263 - INFO - HTTP Request: GET https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/industry_data?select=%2A&limit=1 "HTTP/2 200 OK"
2026-01-01 13:11:55,269 - INFO - Supabase industry table columns: ['industry', 'market_cap', 'div_yield_indicated', 'change_x', 'volume', 'industries', 'stocks', 'change_y', 'perf_1w', 'perf_1m', 'perf_3m', 'perf_6m', 'perf_ytd', 'perf_1y', 'perf_5y', 'perf_10y', 'perf_all_time', 'normalized_score_3m', 'normalized_score_6m', 'normalized_score_1y', 'old_macro_call', 'macro_summary', 'short_term_classification', 'short_term_performance', 'short_term_catalysts', 'long_term_classification', 'long_term_performance', 'long_term_catalysts', 'upside_risks', 'downside_risks', 'quantitative_assessment', 'updated_at', 'macro_rank', 'overall_rating', 'rationale', 'industry_atm_iv']
2026-01-01 13:11:55,296 - INFO - Prepared 119 valid records for Supabase
2026-01-01 13:11:55,568 - INFO - HTTP Request: DELETE https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/industry_data?industry=neq. "HTTP/2 200 OK"
2026-01-01 13:11:55,577 - INFO - Cleared existing Supabase industry data
2026-01-01 13:11:56,478 - INFO - HTTP Request: POST https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/industry_data?columns=%22long_term_classification%22%2C%22perf_1w%22%2C%22normalized_score_3m%22%2C%22perf_all_time%22%2C%22perf_10y%22%2C%22normalized_score_6m%22%2C%22short_term_catalysts%22%2C%22updated_at%22%2C%22short_term_classification%22%2C%22short_term_performance%22%2C%22industry%22%2C%22perf_5y%22%2C%22perf_1y%22%2C%22industries%22%2C%22perf_3m%22%2C%22stocks%22%2C%22market_cap%22%2C%22macro_summary%22%2C%22rationale%22%2C%22change_x%22%2C%22div_yield_indicated%22%2C%22change_y%22%2C%22perf_6m%22%2C%22long_term_performance%22%2C%22long_term_catalysts%22%2C%22upside_risks%22%2C%22volume%22%2C%22industry_atm_iv%22%2C%22perf_1m%22%2C%22perf_ytd%22%2C%22downside_risks%22%2C%22macro_rank%22%2C%22normalized_score_1y%22%2C%22overall_rating%22%2C%22quantitative_assessment%22%2C%22old_macro_call%22 "HTTP/2 201 Created"
2026-01-01 13:11:56,483 - INFO - Inserted batch 1: 100 records
2026-01-01 13:11:56,760 - INFO - HTTP Request: POST https://aisqbjjpdztnuerniefl.supabase.co/rest/v1/industry_data?columns=%22long_term_classification%22%2C%22perf_1w%22%2C%22normalized_score_3m%22%2C%22perf_all_time%22%2C%22perf_10y%22%2C%22normalized_score_6m%22%2C%22short_term_catalysts%22%2C%22updated_at%22%2C%22short_term_classification%22%2C%22short_term_performance%22%2C%22industry%22%2C%22perf_5y%22%2C%22perf_1y%22%2C%22industries%22%2C%22perf_3m%22%2C%22stocks%22%2C%22market_cap%22%2C%22macro_summary%22%2C%22rationale%22%2C%22change_x%22%2C%22div_yield_indicated%22%2C%22change_y%22%2C%22perf_6m%22%2C%22long_term_performance%22%2C%22long_term_catalysts%22%2C%22upside_risks%22%2C%22volume%22%2C%22industry_atm_iv%22%2C%22perf_1m%22%2C%22perf_ytd%22%2C%22downside_risks%22%2C%22macro_rank%22%2C%22normalized_score_1y%22%2C%22overall_rating%22%2C%22quantitative_assessment%22%2C%22old_macro_call%22 "HTTP/2 201 Created"
2026-01-01 13:11:56,762 - INFO - Inserted batch 2: 19 records
2026-01-01 13:11:56,762 - INFO - Successfully saved 119 records to Supabase
2026-01-01 13:11:56,762 - INFO - Data successfully saved to Supabase
2026-01-01 13:11:56,762 - INFO - Industry data extraction completed successfully
